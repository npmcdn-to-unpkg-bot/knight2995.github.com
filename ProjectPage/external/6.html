<p> The encoding process is quite complex and not fully described here. </p>

<img src="image/decoding.jpg">


<h4> Sync and Error Checking </h4>

<p>
This block receives the incoming bitstream. Every frame within the stream must be identified
by searching for the synchronization word. It is not possible for the following blocks to
extract the correct information needed if no frames are located.
</p>
<h4> Huffman Decoding & Huffman info decoding </h4>
<p>
Since Huffman coding is a variable length coding method a single codeword in the middle of
the Huffman code bits cannot be identified. The decoding must start where the codeword
starts. This information is given by the Huffman info decoding block. The purpose of this
block is to provide all necessary parameters by the Huffman decoding block to perform a
correct decoding.</p>
<p>
Moreover, the Huffman info decoder block must insure that 576 frequency lines are generated
regardless of how many frequency lines are described in the Huffman code bits. When fewer
than 576 frequency lines appear the Huffman info decoding block must initiate a zero padding
to compensate for the lack of data. </p>

<h4> Scalefactor decoding </h4>
<p>
This block decodes the coded scalefactors, i.e. the first part of the main data. The scalefactor
info needed to do this is fetched from the side information. The decoded scalefactors are later
used when requantizing. </p>

<h4> Requantizer </h4>
<p>
Here the global_gain, scalefactor_scale, preflag fields in the side information contributes to
restoring the frequency lines as they were generated by the MDCT block in the encoder. The
decoded scaled and quantized frequency lines output from the Huffman decoder block are
requantized using the scalefactors reconstructed in the Scalefactor decoding block together
with some or all fields mentioned. Two equations are used depending on the window used.
Both these equations are raised to the power of 4/3, which is the invers power used in the
quantizer. </p>
<h4> Reordering </h4>
<p>
The frequency lines generated by the Requantization block are not always ordered in the same
way. In the MDCT block the use of long windows prior to the transformation, would generate
frequency lines ordered first by subband and then by frequency. Using short windows instead,
would generate frequency lines ordered first by subband, then by window and at last by
frequency. In order to increase the efficiency of the Huffman coding the frequency lines for
the short windows case were reordered into subbands first, then frequency and at last by
window, since the samples close in frequency are more likely to have similar values. </p>
<p>
The reordering block will search for short windows in each of the 36 subbands. If short
windows are found they are reordered. </p>

<h4> Stereo Decoding </h4>
<p>
The purpose of the Stereo Processing block is to perform the necessary processing to convert
the encoded stereo signal into separate left/right stereo signals. The method used for encoding
the stereo signal can be read from the mode and mode_extension in the header of each frame. </p>

<h4> Alias Reduction </h4>
<p>
In the MDCT block within the encoder it was described that an alias reduction was applied.
In order to obtain a correct reconstruction of the audio signal in the algorithms to come the
aliasing artifacts must be added to the signal again. The alias reconstruction calculation
consists of eight butterfly calculations for each subband, as illustrated in Figure 7.2. The
constants in the figure are in the specified standard [8]. Aliasing is only applied to granules
unsing short blocks. </p>

<img src ="image/decoding7-2.jpg">

<h4> Inverse Modified Discrete Cosine Transform (IMDCT) </h4>
<p>
The frequency lines from the Alias reduction block are mapped to 32 Polyphase filter
subbands. The IMDC will output 18 time domain samples for each of the 32 subbands.
</p>

<h4> Frequency Inversion </h4>
<p>
In order to compensate for frequency inversions in the synthesis polyphase filter bank, every
odd time sample of every odd subband is multiplied with -1. </p>

<h4> 7.10 Synthesis Polyphase Filterbank </h4>
<p>
The synthesis Polyphase filterbank transforms the 32 subbands of 18 time domain samples in
each granule to 18 blocks of 32 PCM samples, which is the final decoding result. 
</p>